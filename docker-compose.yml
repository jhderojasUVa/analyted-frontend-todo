version: "3.9"
services:
  # Build database container
  sqltodo:
    build: ../analyted-database-todo/
    ports:
      - 1433:1433
      - 1431:1431
      - 1434:1434
  # Build backend container
  backend:
    build: ../analyted-backend-todo/
    environment:
      - DB_HOST=sqltodo
      - DB_USERNAME=sa
      - DB_PASSWORD=yourStrong(!)Password
    depends_on:
      - sqltodo
    ports:
      - 8080:8080
  # Build frontned container
  frontend:
    build: .
    depends_on:
      - backend
    ports:
      - 8090:8090
